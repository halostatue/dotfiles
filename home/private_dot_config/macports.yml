---
roots:
  public: ~/oss/macports/macports-ports
  private: ~/ports
ports:
  chezmoi:
    category: sysutils
    stable: true
    test: |
      chezmoi doctor
  cocogitto:
    category: devel
    test: |
      cog --help
  ripgrep:
    category: textproc
    test: |
      rg -h
    cargo_lock: github
    variants:
      - pcre
  colima:
    category: sysutils
    stable: true
    test: |
      colima status
  jaq:
    cargo_lock: github
    category: textproc
    test: |
      jaq --help
  lima:
    category: sysutils
    stable: true
    test_script: |
      #!/usr/bin/env bash

      set -euo pipefail
      echo "limactl info | jq .version -r"
      limactl info | jq .version -r
    variants:
      - additional_guestagents
  lychee:
    cargo_lock: github
    category: devel
    test: |
      lychee --help
  mise:
    category: sysutils
    cargo_lock: github
    # stable: true
    test: |
      mise ls
  passage:
    category: security
    test_script: |
      #!/usr/bin/env bash

      local id created tmp
      created=false
      tmp="$(mktemp)"
      rm -f "${tmp}"
      id="$(basename "${tmp}")"

      if ! [[ -f ~/.passage/identities ]]; then
        mkdir -p ~/.passage
        age-keygen -o ~/.passage/identities
        created=true
      fi

      (
        set -x
        passage generate test."${id}"
        passage rm -f test."${id}"
      )

      "${created}" && rm -rf ~/.passage
  pinact:
    category: security
    stable: true
    test: |
      pinact --help
  rebels-in-the-sky:
    category: games
    crate: rebels
    test: |
      rebels --version
  ruby-build:
    category: ruby
    stable: true
    test: |
      ruby-build --list
  viu:
    category: graphics
    test: |
      viu ~/Pictures/graden.jpg
  zizmor:
    cargo_lock: github
    category: security
    stable: true
    test: |
      zizmor -h

  actions-usage:
    category: sysutils
  chainloop:
    category: security
  changie:
    category: devel
  csvquote:
    category: textproc
  diffoci:
    category: sysutils
  dotenv-linter:
    category: sysutils
  git-branch-stash:
    category: devel
  git-bug:
    category: devel
  git-ce:
    category: devel
    cargo_lock: github
  git-mediate:
    category: devel
  git-some-extras:
    category: devel
  git-stack:
    category: devel
  git-switch-user:
    category: devel
  git-task:
    category: devel
  gitql:
    category: devel
  htmd-cli:
    category: textproc
  jqfmt:
    category: devel
  licensure:
    category: devel
  manifest-tool:
    category: sysutils
  massren:
    category: sysutils
  mrml:
    category: devel
    cargo_lock: github
  osv-scanner:
    category: security
  prql:
    category: devel
    cargo_lock: github
  prr:
    category: devel
  pug:
    category: sysutils
  scryer-prolog:
    category: lang
  selene:
    category: lua
  shadowenv:
    category: sysutils
    cargo_lock: github
  sol:
    category: devel
  spacer:
    category: textproc
  taplo:
    category: devel
    cargo_lock: github
    test_script: |
      #!/usr/bin/env bash

      set -euo pipefail
      echo "taplo config schema | jq keys"
      taplo config schema | jq keys
  terramaid:
    category: sysutils
  titlecase:
    category: textproc
  typos:
    category: devel
    cargo_lock: github
  vv:
    category: graphics
    test: |
      vv ~/Pictures/garden.jpg

template: |
  #### Description

  {{description}}

  ##### Tested on

  {{tested_on}}

  ##### Verification

  Have you

  - [x] followed our [Commit Message Guidelines](https://trac.macports.org/wiki/CommitMessages)?
  - [x] squashed and [minimized your commits](https://guide.macports.org/#project.github)?
  - [x] checked that there aren't other open [pull requests](https://github.com/macports/macports-ports/pulls) for the same change?
  - [x] checked your Portfile with `port lint`?
  - [x] tried a full install with `sudo port -vst install`?
  - [x] tested basic functionality of all binary files?
